---
import Container from "@/components/layout/Container.astro";
import Section from "@/components/layout/Section.astro";
import FormInput from "@/components/ui/FormInput.astro";
import FormLabel from "@/components/ui/FormLabel.astro";

const inquiryTypes = [
  { value: "project", label: "인쇄 의뢰 및 상담" },
  { value: "quote", label: "견적 요청" },
  { value: "partnership", label: "제휴 문의" },
  { value: "other", label: "기타 문의" },
];
---

<Section background="secondary">
  <Container size="small">
    <div class="contact-intro">
      <p class="contact-description">
        서비스에 관한 상담이나 견적 요청, 질문 등 편하게 문의해 주세요.
      </p>
    </div>

    <form class="contact-form" method="POST" id="contact-form">
      <fieldset>
        <FormLabel required>문의 유형</FormLabel>
        <div class="form-radio-group">
          {
            inquiryTypes.map((type) => (
              <label class="form-radio-label">
                <input
                  type="radio"
                  name="inquiryType"
                  value={type.value}
                  class="form-radio"
                  required
                />
                <span class="form-radio-text">{type.label}</span>
              </label>
            ))
          }
        </div>
      </fieldset>

      <div class="form-group">
        <FormLabel for="message" required>문의 내용</FormLabel>
        <textarea
          id="message"
          name="message"
          class="form-textarea"
          rows="8"
          required
          placeholder="인쇄물 종류, 수량, 희망 납기일 등을 구체적으로 적어주시면 빠른 상담이 가능합니다."
        ></textarea>
      </div>

      <div class="form-group">
        <FormLabel for="name" required>이름</FormLabel>
        <FormInput
          type="text"
          id="name"
          name="name"
          required
          autocomplete="name"
          placeholder="홍길동"
        />
      </div>

      <div class="form-group">
        <FormLabel for="company">회사명</FormLabel>
        <FormInput
          type="text"
          id="company"
          name="company"
          autocomplete="organization"
          placeholder="(주)샘플회사"
        />
      </div>

      <div class="form-group">
        <FormLabel for="email" required>이메일</FormLabel>
        <FormInput
          type="email"
          id="email"
          name="email"
          required
          autocomplete="email"
          placeholder="example@company.com"
        />
      </div>

      <div class="form-group">
        <FormLabel for="tel">전화번호</FormLabel>
        <FormInput
          type="tel"
          id="tel"
          name="tel"
          autocomplete="tel"
          placeholder="010-1234-5678"
        />
      </div>

      <div class="form-group">
        <label class="form-checkbox-label">
          <input
            type="checkbox"
            name="privacy"
            class="form-checkbox"
            required
          />
          <span class="form-checkbox-text">
            <a href="/privacy" class="form-link" target="_blank"
              >개인정보처리방침</a
            >에 동의합니다
          </span>
        </label>
      </div>

      <div class="form-actions">
        <button type="submit" class="form-button">문의하기</button>
      </div>
    </form>
  </Container>
</Section>

<style lang="scss">
  .contact-intro {
    margin-bottom: var(--sp-2xl);
  }

  .contact-description {
    color: var(--c-text);
    font-size: var(--fs-base);
    line-height: var(--lh-relaxed);

    @media (min-width: 900px) {
      font-size: var(--fs-md);
    }
  }

  .contact-form {
    display: flex;
    flex-direction: column;
    gap: var(--sp-xl);
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: var(--sp-md);
  }

  .form-textarea {
    width: 100%;
    min-height: 200px;
    padding: var(--sp-md);
    border: 1px solid var(--c-border);
    border-radius: var(--radius-xl);
    background-color: var(--c-bg);
    color: var(--c-text);
    font-size: var(--fs-base);
    line-height: var(--lh-relaxed);
    resize: vertical;
    transition: border-color var(--transition-base);

    &::placeholder {
      color: var(--c-text-light);
    }

    &:focus {
      border-color: var(--c-primary);
    }
  }

  .form-radio-group {
    display: flex;
    flex-direction: column;
    gap: var(--sp-md);
    margin-top: var(--sp-md);
  }

  .form-radio-label {
    display: flex;
    gap: var(--sp-md);
    align-items: center;
    cursor: pointer;
  }

  .form-radio {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    border: 1px solid var(--c-border);
    cursor: pointer;

    &:checked {
      border-color: var(--c-primary);
      background-color: var(--c-primary);
    }
  }

  .form-radio-text {
    color: var(--c-text);
    font-size: var(--fs-base);
    line-height: var(--lh-normal);
  }

  .form-checkbox-label {
    display: flex;
    gap: var(--sp-md);
    align-items: flex-start;
    cursor: pointer;
  }

  .form-checkbox {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    margin-top: 2px;
    border: 1px solid var(--c-border);
    cursor: pointer;

    &:checked {
      border-color: var(--c-primary);
      background-color: var(--c-primary);
    }
  }

  .form-checkbox-text {
    color: var(--c-text);
    font-size: var(--fs-base);
    line-height: var(--lh-relaxed);
  }

  .form-link {
    color: var(--c-link);
    text-decoration: underline;
    text-underline-offset: 4px;
  }

  .form-actions {
    margin-top: var(--sp-lg);
  }

  .form-button {
    display: block;
    width: 100%;
    max-width: 240px;
    margin: 0 auto;
    padding: var(--sp-md) var(--sp-2xl);
    border: 2px solid var(--c-primary);
    border-radius: var(--radius-full);
    background-image: linear-gradient(
      to right,
      var(--c-bg) 50%,
      var(--c-primary) 50%
    );
    background-size: 200% 100%;
    background-position: right;
    color: var(--c-text-inverse);
    font-size: var(--fs-base);
    letter-spacing: 0.05em;
    text-align: center;
    cursor: pointer;
    transition:
      background-position var(--transition-slow),
      color var(--transition-slow),
      border-color var(--transition-slow);

    &:hover:not(:disabled) {
      background-position: left;
      color: var(--c-text);
      border-color: var(--c-primary);
    }

    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    @media (min-width: 900px) {
      font-size: var(--fs-md);
    }
  }
</style>
